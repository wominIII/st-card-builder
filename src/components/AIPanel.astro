---

---
<div class="panel ai-panel">
  <h2>âœ¨ AI å¼•æ“</h2>
  
  <div class="grid-2">
    <div class="form-group">
      <label>API æ¥å£åœ°å€ (URL)</label>
      <input type="text" id="apiUrl" value="https:
    </div>
    <div class="form-group">
      <label>API å¯†é’¥ (API Key)</label>
      <input type="password" id="apiKey" placeholder="sk-..." />
    </div>
  </div>
  
  <div class="grid-2">
    <button id="btnFetchModels" class="btn btn-fetch" style="margin-top: 0; height: 100%;">ğŸ”„ æ‹‰å–å¯ç”¨æ¨¡å‹</button>
    <div class="form-group" style="margin-bottom: 0;">
      <select id="modelSelect" style="height: 100%;">
        <option value="">è¯·å…ˆè·å–æ¨¡å‹...</option>
      </select>
    </div>
  </div>

  <div style="margin-top: 20px; border-top: 1px dashed #6b7280; padding-top: 20px;">
    
    <div class="form-group preset-upload">
      <label style="color: #d8b4fe;">ğŸ“‚ å¯¼å…¥é…’é¦†åŸç”Ÿé¢„è®¾ (.json)</label>
      <input type="file" id="presetInput" accept=".json" style="padding: 5px; font-size: 0.8rem;" />
      
      <div id="presetListContainer" style="display: none; max-height: 180px; overflow-y: auto; margin-top: 10px; background: rgba(0,0,0,0.3); border-radius: 6px; padding: 8px;">
        </div>
      
      <div id="presetStatus" style="font-size: 0.75rem; margin-top: 8px; color: #94a3b8;">
        å¯¼å…¥é¢„è®¾åï¼Œå¯å‹¾é€‰è¦æ³¨å…¥çš„æ–‡é£å’Œè§„åˆ™
      </div>
    </div>

    <div class="form-group">
      <label style="color: #38bdf8; font-size: 0.9rem;">ğŸ“ [é˜¶æ®µ1] è§’è‰²è®¾å®šæç¤ºè¯</label>
      <textarea id="aiPrompt" placeholder="ä¾‹å¦‚ï¼šä¸€ä¸ªåœ¨èµ›åšæœ‹å…‹ä¸–ç•Œä¸­é æ¡åƒåœ¾ä¸ºç”Ÿçš„è¾¹ç¼˜é»‘å®¢å°‘å¥³..." style="min-height: 80px;"></textarea>
    </div>

    <div class="form-group">
      <label style="color: #10b981; font-size: 0.9rem;">ğŸŒ [é˜¶æ®µ2] ä¸–ç•Œä¹¦æ‰©å±•æç¤ºè¯</label>
      <textarea id="wbPrompt" placeholder="ä¾‹å¦‚ï¼šç”Ÿæˆ1ä¸ªå¸¸é©»(constant)çš„èµ›åšåºŸåœŸä¸–ç•Œè§‚ï¼›å†ç”Ÿæˆ3ä¸ªå…³é”®è¯è§¦å‘(selective)çš„ç‰¹æ®Šæ­¦å™¨è¯æ¡..." style="min-height: 80px; border-color: #10b981;"></textarea>
    </div>

    <button id="btnAiGenerate" class="btn btn-ai">ğŸš€ ç”Ÿæˆ(è§’è‰²+ä¸–ç•Œä¹¦)</button>
    <div id="aiStatus" class="status-text"></div>
  </div>
</div>

<style>
  
  :global(.preset-item) { display: flex; align-items: flex-start; gap: 8px; margin-bottom: 6px; font-size: 0.8rem; background: #334155; padding: 8px; border-radius: 4px; }
  :global(.preset-item input[type="checkbox"]) { margin-top: 2px; width: 14px; height: 14px; accent-color: #8b5cf6; cursor: pointer; flex-shrink: 0; }
  :global(.preset-item label) { margin: 0; cursor: pointer; flex: 1; user-select: none; color: #f8fafc; font-weight: normal; line-height: 1.3; }
</style>